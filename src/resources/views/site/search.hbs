

<div class="container">
    <div class="mt-4">
        Đã tìm thấy <span style="color: blue;">{{coursesCount}}</span> kết quả cho: <span style="color: blue;">"{{keySearch}}"</span>
    </div>
    <div class="result_container">
        {{!-- render result data --}}
        <div class="row">
        {{#each courses}}
            <div class="col-sm-6 col-lg-4">
                <div class="card card-course-item">
                    <a href="/courses/{{this.slug}}">
                        <img src="{{this.image}}" class="card-img-top" alt="{{this.name}}">
                    </a>
                    <div class="card-body">
                        <a href="#">
                            <h5 class="card-title">{{this.name}}</h5>
                        </a>
                        <p class="card-text">{{this.description}}</p>
                        <a href="/courses/{{this.slug}}" class="btn btn-primary">Học ngay</a>
                    </div>
                </div>
            </div>
        {{/each}}
        </div>
    </div>

    <div>
        {{{loadmore keySearch resultSize coursesCount}}}
    </div>
</div>

{{!-- <script>
    document.addEventListener("DOMContentLoaded", function(){
        var sizeResult = 1
        const btnSearch = document.querySelector('#btn-search')
        var result_row = document.querySelector('.row')

        const keySearch = sessionStorage.getItem('searchValue')
        if(keySearch){
            var keySearchSpan = document.getElementById('keySearchSpan')
            keySearchSpan.innerText = keySearch
        }

        btnSearch.addEventListener('click', function(){
            
                            
            sizeResult += 1
            //reder view result
            var url = `http://localhost:3000/loadmore-results?keysearch=${keySearch}&size=${sizeResult}`
                console.log(url)
                fetch(url)
                    .then(response => {return response.json()})
                    .then(datas => {
                        datas.forEach( data => {
                            var resultItem = document.createElement('div')
                            resultItem.classList.add('col-sm-6', 'col-lg-4')
                            resultItem.innerHTML = `<div class="card card-course-item">
                                                        <a href="/courses/${data.slug}">
                                                            <img src="${data.image}" class="card-img-top" alt="${data.name}">
                                                        </a>
                                                        <div class="card-body">
                                                            <a href="#">
                                                                <h5 class="card-title">${data.name}</h5>
                                                            </a>
                                                            <p class="card-text">${data.description}</p>
                                                            <a href="/courses/${data.slug}" class="btn btn-primary">Học ngay</a>
                                                        </div>
                                                    </div>`

                            result_row.appendChild(resultItem)
                        })
                    })
                    .catch(error => {console.log('error')})
        })
    })

</script> --}}
