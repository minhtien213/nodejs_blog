
    <div>
        Đã tìm thấy <span style="color: blue;">{{productsCount}}</span> kết quả cho: <span style="color: blue;">"{{keySearch}}"</span>
    </div>
    <div class="result_container">
        {{!-- render result data --}}
        <div class="row">
        {{#each products}}
            <div class="card mr-auto mt-4" style="max-width: 540px;">
              <div class="row g-0">
                <div class="col-md-4">
                  <a href="/products/{{this.slug}}">
                    <img src="{{lookup this.images 0}}" class="img-fluid rounded-start" alt="{{this.name}}">
                  </a>
                </div>
                <div class="col-md-8">
                  <div class="card-body">
                    <a href="/products/{{this.slug}}">
                      <h5 class="card-title">{{this.name}}</h5>
                    </a>
                    <p class="card-text">{{this.description}}</p>
                    <a href="/products/{{this.slug}}"><button class="btn btn-primary">Xem chi tiết</button></a>
                  </div>
                </div>
              </div>
            </div>
        {{/each}}
        </div>
    </div>

    <div>
        {{{loadmoreSearchResult keySearch resultSize productsCount}}}
    </div>

    {{!-- tạo form hidden để thực hiện submit --}}
    <form id="add-to-cart-form" method="POST"></form>

{{!-- <script>
    document.addEventListener("DOMContentLoaded", function(){
        var sizeResult = 1
        const btnSearch = document.querySelector('#btn-search')
        var result_row = document.querySelector('.row')

        const keySearch = sessionStorage.getItem('searchValue')
        if(keySearch){
            var keySearchSpan = document.getElementById('keySearchSpan')
            keySearchSpan.innerText = keySearch
        }

        btnSearch.addEventListener('click', function(){
            
                            
            sizeResult += 1
            //reder view result
            var url = `http://localhost:3000/loadmore-results?keysearch=${keySearch}&size=${sizeResult}`
                console.log(url)
                fetch(url)
                    .then(response => {return response.json()})
                    .then(datas => {
                        datas.forEach( data => {
                            var resultItem = document.createElement('div')
                            resultItem.classList.add('col-sm-6', 'col-lg-4')
                            resultItem.innerHTML = `<div class="card card-product-item">
                                                        <a href="/products/${data.slug}">
                                                            <img src="${data.image}" class="card-img-top" alt="${data.name}">
                                                        </a>
                                                        <div class="card-body">
                                                            <a href="#">
                                                                <h5 class="card-title">${data.name}</h5>
                                                            </a>
                                                            <p class="card-text">${data.description}</p>
                                                            <a href="/products/${data.slug}" class="btn btn-primary">Học ngay</a>
                                                        </div>
                                                    </div>`

                            result_row.appendChild(resultItem)
                        })
                    })
                    .catch(error => {console.log('error')})
        })
    })

</script> --}}

